<!doctype html>
<html lang="en" class="mocha">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deblok | 503</title>
    <link rel="stylesheet" href="/app.css" />
    <link rel="icon" type="image/png" href="/assets/favicon.png" />
  </head>
  <body class="body">
    <overlay> </overlay>

    <div class="z-[2] flex flex-col justify-center align-middle w-full h-full">
      <div class="max-w-[600px] dialog text-center">
        <h1 class="text-3xl text-center font-extrabold text-red">
          Service Unavailable
        </h1>
        <br />
        Deblok is currently unavailable due to an API-related error. Error:
        <pre
          class="err_txt p-3 py-1 bg-[#0f0f1f] rounded-[4px] text-left text-sm force-break"
        >
No error text was provided.
        </pre>
        <br />
        <br />
        <br />

        <div class="max-w-sm mx-auto flex flex-row w-full">
          <a
            href="https://status.deblok.me"
            class="rounded-r-none block text-2xl rounded-lg bg-green/80 hover:bg-green duration-[375ms] px-6 py-2 hover:text-mantle text-surface0"
            >Status</a
          >
          <a href="https://discord.gg/surfskip" class="errCTA2">Discord</a>
          <a href="https://deblok.me" class="errCTA3">Deblok.me</a>
        </div>
      </div>
    </div>
    <br />
    <script>
      let reasons = [
        `The healthcheck has failed. Are you sure the NewDeblok API is even running? 
Cause: ${document.location.hash.substr(1).split("|")[1] ? decodeURIComponent(document.location.hash.substr(1).split("|")[1]) : "Unknown."}`,
        `The API is reporting that all DeblokManager endpoints are down.`,
      ];
      document.querySelector(".err_txt").innerText = reasons[
        document.location.hash.substr(1).split("|")[0]
      ]
        ? reasons[document.location.hash.substr(1).split("|")[0]]
        : "Failed to fetch error text.";
    </script>
  </body>
</html>
